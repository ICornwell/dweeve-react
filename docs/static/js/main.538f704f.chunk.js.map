{"version":3,"sources":["components/simpletabs.js","components/aceed.js","examples/examples.js","components/sibebar.js","components/resourceList.js","components/resourceManager.js","App.js","serviceWorker.js","index.js"],"names":["TabPanel","props","children","value","index","other","className","height","role","hidden","id","aria-labelledby","SimpleTabs","React","useState","setValue","Tabs","onChange","event","newValue","aria-label","captions","map","caption","idx","Tab","key","label","child","AceEd","forwardRef","ref","width","mode","theme","ace","name","editorProps","$blockScrolling","Examples","examples","this","createExamples","Object","keys","useStyles","makeStyles","list","fullList","SideBar","classes","top","left","bottom","right","state","setState","toggleDrawer","anchor","open","type","Button","onClick","Drawer","onClose","onKeyDown","List","getExamplesList","ListItem","button","example","getExample","onSelect","ListItemIcon","ListItemText","primary","ResourceList","newInput","currentIdx","listState","setListState","handleDeleteButtonClick","preventDefault","delName","newList","splice","length","onSelectedResource","deleteItem","addItem","concat","elem","style","display","flexDirection","flex","marginRight","background","onFocus","placeholder","e","oldName","newName","target","handleListItemChange","color","Divider","Typography","fontSize","marginTop","onKeyUp","trim","ResourceManager","resources","resourceState","setResourceState","currentResource","files","current","aceResourceRef","useRef","borderRightWidth","borderRightColor","borderRightStyle","reason","newStateFiles","onResourceChange","handleWidth","handleHeight","onResize","editor","resize","TextField","newState","content","url","newCode","cx","classNames","bind","App","timingInfo","dweeveEnv","setDweeveEnv","findResource","env","path","resource","values","find","r","execute","dweevefns","setResourceLoader","payload","startsWith","doc","DOMParser","parseFromString","pl","xml2js","toJsObj","console","log","response","dweeve","runWithTimes","code","times","result","parser","transpiler","execution","results","aceCodeRef","acePayloadRef","aceResultRef","resizeAce","textAlign","dwl","resourceName","resourceText","direction","flexGrow","newPayload","time","showControlButtons","prompt","welcomeMessage","errorMessage","commands","expr","dwScript","dwSplit","split","replExecute","href","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.538f704f.chunk.js","sourcesContent":["import React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div className={\"tab-Content\"} height=\"100%\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        children\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\nfunction SimpleTabs(props) {\n\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <div className={\"resource-Panel\"}>\n        <Tabs  className={\"tabbar\"} value={value} onChange={handleChange} aria-label=\"simple tabs example\">\n        {props.captions.map( (caption, idx) =>  \n            <Tab key={'tab'+idx} label={caption} {...a11yProps(idx)} />\n        )}\n        </Tabs>\n        {props.children.map( (child, idx) => \n            <TabPanel key={'tabpanel'+idx} value={value} index={idx} >\n            {child}\n            </TabPanel>\n        )}\n    </div>\n  );\n}\n\nexport default SimpleTabs;\n","import React from 'react';\nimport AceEditor from \"react-ace\";\n\n/*eslint-disable no-alert, no-console */\nimport \"ace-builds/src-min-noconflict/ext-searchbox\";\nimport \"ace-builds/src-min-noconflict/ext-language_tools\";\n//import \"dwlAceMode/mode-dwl\";\n//import \"dwlAceMode/theme-dweeve\";\nimport \"ace-builds/src-noconflict/mode-json5\";\nimport \"ace-builds/src-noconflict/theme-github\";\n\nimport \"ace-builds/webpack-resolver\";\nimport \"dwlAceMode/webpack-resolver\";\n\n\nconst AceEd = React.forwardRef((props, ref) => {\n\n  const [value, setValue] = React.useState({\"props\": props.value, \"ace\": props.value});\n\n  const onChange = (newValue) => {\n    setValue({...value, \"ace\": newValue});\n    if (props.onChange)\n        props.onChange(newValue)\n  };\n\n  if (props.value !== value.props)\n    setValue({\"props\": props.value, \"ace\": props.value})\n\n  return (\n              <AceEditor height=\"100%\" width=\"100%\"\n                mode=\"dwl\"\n                theme=\"dweeve\"\n                ref={ref}\n                value={value.ace}\n                onChange={onChange}\n                name={props.name}\n                editorProps={{ $blockScrolling: true }}\n              />\n            \n  );\n})\n\nexport default AceEd;\n","\nexport class Examples {\n\nexamples = {};\n\nconstructor() {\n  this.createExamples();\n}\n\ngetExample(name){\n  return this.examples[name];\n}\n\ngetExamplesList(){\n    return Object.keys(this.examples)\n}\n\ncreateExamples() {\n\n  this.examples['Simple function'] = { \"dwl\": `%dw 2.0\nfun toUser(obj) = {\nfirstName: obj.field1,\nlastName: obj.field2\n}\n---\ntoUser(payload)`,\n    \"payload\": `{\n\"field1\": \"Bob\",\n\"field2\": \"Jones\"\n}` };\n\n\n  this.examples['Get people'] = {\n  \"dwl\": `%dw 2.0\n\noutput application/json\n---\npayload.people.person.address.street`,\n  \"payload\":  `{\n\"people\": [\n  {\n  \"person\": {\n      \"name\": \"Nial\",\n      \"address\": {\n      \"street\": {\n          \"name\": \"Italia\",\n          \"number\": 2164\n      },\n      \"area\": {\n          \"zone\": \"San Isidro\",\n          \"name\": \"Martinez\"\n      }\n      }\n  }\n  },\n  {\n  \"person\": {\n      \"name\": \"Coty\",\n      \"address\": {\n      \"street\": {\n          \"name\": \"Monroe\",\n          \"number\": 323\n      },\n      \"area\": {\n          \"zone\": \"BA\",\n          \"name\": \"Belgrano\"\n      }\n      }\n  }\n  }\n]\n}`};\n\n\n\n  this.examples['All descendents'] = {\n    \"dwl\": `%dw 2.0\noutput application/json\n---\npayload.users..*name`,\n\"payload\":  `{ \"users\" : {\n\"user\": {\"name\":\"a\"},\n\"user\": {\"name\":\"b\"},\n\"user\": {\"name\":\"c\", \"name\":\"d\"}\n}\n}`\n};\n\n  this.examples['Mixed matching'] = {\n\"dwl\": `%dw 2.0\n---\n{\na: payload.string match {\n  case str if str == \"Emiliano\" -> str ++ \" Lesende\"\n  case myVar if (myVar == \"strings\") -> (\"strings =\" ++ myVar)\n  case word matches /(hello)\\\\s\\\\w+/ ->  word[1]  ++ \" was matched\"\n},\nb: payload.bool match {\n  case num is Boolean -> \"could be true or false:\" ++ num\n  case is Object -> \"we got an Object\"\n  case \"bob\"  -> \"is bob!\"\n  case word: \"bang\" ->  word ++ \" was matched\"\n},\nc: payload.name match {\n  case str if str == \"Emiliano\" -> str ++ \" Lesende\"\n  case myVar if (myVar == \"strings\") -> (\"strings =\" ++ myVar)\n  case word matches /(hello)\\\\s\\\\w+/ ->  word[1]  ++ \" was matched\"\n},\nd: payload.object match {\n  case num is Boolean -> \"could be true or false:\" ++ num\n  case is Object -> \"we got an Object\"\n  case \"bob\"  -> \"is bob!\"\n  case word: \"bang\" ->  word ++ \" was matched\"\n},\ne: payload.strings match {\n  case str if str == \"Emiliano\" -> str ++ \" Lesende\"\n  case myVar if (myVar == \"strings\") -> (\"strings =\" ++ myVar)\n  case word matches /(hello)\\\\s\\\\w+/ ->  word[1]  ++ \" was matched\"\n},\nf: payload.object.name match {\n  case num is Boolean -> \"could be true or false:\" ++ num\n  case is Object -> \"we got an Object\"\n  case \"bob\"  -> \"is bob!\"\n  case word: \"bang\" ->  word ++ \" was matched\"\n},\ng: payload.bangtest match {\n  case num is Boolean -> \"could be true or false:\" ++ num\n  case is Object -> \"we got an Object\"\n  case \"bob\"  -> \"is bob!\"\n  case word: \"bang\" ->  word ++ \" was matched\"\n},\nh: payload.number match {\n  case num is Boolean -> \"could be true or false:\" ++ num\n  case is Object -> \"we got an Object\"\n  case \"bob\"  -> \"is bob!\"\n  case word: \"bang\" ->  word ++ \" was matched\"\n}\n}`,\n\"payload\":  `{ \"string\": \"hello fred\", \"number\": 90,\n    \"object\" : {\"name\" : \"bob\"}, \"bool\" : true,\n    \"name\" : \"Emiliano\", \"strings\" : \"strings\", \"bangtest\" : \"bang\"}`\n};\n\n\n  this.examples['Simple Lambda'] = {\n\"dwl\": `%dw 2.0\nvar myLambda = (a,b)-> { (a) : b}\n---\nmyLambda(\"key\",\"value\")`,\n\"payload\":   ``\n};\n\n  this.examples['Do scope'] = {\n\"dwl\": `%dw 2.0\noutput application/json\nfun test(p) = do {\n  var a = \"Foo\" ++ p\n  ---\n  a\n}\n---\n{ result: test(\" Bar\") }`,\n\"payload\":  ``\n};\n\n  this.examples['Xml input'] = {\n\"dwl\": `%dw 2.0\noutput application/xml\n---\n{\n  prices: payload.prices mapObject (value, key) -> {\n      (key): (value + 5)\n  }\n}`,\n\"payload\":  `<?xml version='1.0' encoding='UTF-8'?>\n<prices>\n  <basic>14.99</basic>\n  <premium>53.01</premium>\n  <vip>398.99</vip>\n</prices>`\n};\n\n  this.examples['Recursion!'] = {\n    \n\"payload\": `{\n      \"command\":{\n        \"version\":\"1.0.0\",\n        \"user\":\"ian\",\n        \"commandDate\":\"2019-10-20T11:15:30\",\n        \"response\":[\n          {\n            \"object\":{\n              \"type\":\"policyHeader\",\n              \"schema\":\"policyHeader\",\n              \"schemaVersion\":\"1.0.0\",\n              \"commandId\":\"PH001\",\n              \"content\":{\n                \"polifcyRef\":\"xyz-124\",\n                \"inceptionDate\":\"2019-11-01T00:00:00\",\n                \"expiryDate\":\"2020-10-31T23:59:59\"\n              }\n            }\n          },\n          {\n            \"object\":{\n              \"type\":\"customer\",\n              \"schema\":\"customer\",\n              \"schemaVersion\":\"1.0.0\",\n              \"commandId\":\"CU001\",\n              \"content\":{\n                \"extRef\":\"sf00001abc\"\n              }\n            }\n          },\n          {\n            \"object\":{\n              \"type\":\"broker\",\n              \"schema\":\"broker\",\n              \"schemaVersion\":\"1.0.0\",\n              \"commandId\":\"BR001\",\n              \"content\":{\n                \"brokerRef\":\"br00111\"\n              }\n            }\n          },\n          {\n            \"object\":{\n              \"type\":\"coverage\",\n              \"schema\":\"coverage\",\n              \"schemaVersion\":\"1.0.0\",\n              \"commandId\":\"CV001\",\n              \"content\":{\n                \"coverageRef\":\"covRef00111\"\n              }\n            }\n          },\n          {\n            \"object\":{\n              \"type\":\"insuredObject\",\n              \"schema\":\"insuredObject\",\n              \"schemaVersion\":\"1.0.0\",\n              \"commandId\":\"IO001\",\n              \"content\":{\n                \"insuredType\":\"motor\",\n                \"make\":\"Ford\",\n                \"model\":\"Fiesta\",\n                \"engine\": \"2.0\"\n              }\n            }\n          },\n          {\n            \"object\":{\n              \"type\":\"insuredObject\",\n              \"schema\":\"insuredObject\",\n              \"schemaVersion\":\"1.0.0\",\n              \"commandId\":\"IO002\",\n              \"content\":{\n                \"insuredType\":\"property\",\n                \"description\":\"office\",\n                \"fire\":\"yes\"\n              }\n            }\n          },\n          {\n            \"relation\":{\n              \"from\":\"PH001\",\n              \"to\":\"CU001\",\n              \"rType\":\"belongsTo\"\n            }\n          },\n          {\n            \"relation\":{\n              \"from\":\"CU001\",\n              \"to\":\"PH001\",\n              \"rType\":\"hasPolicy\"\n            }\n          }\n        ]\n      }\n    }`,\n    \"resourceText\":  `{\n      \"view\":{\n        \"name\":\"motorPolicy-quote\",\n        \"version\":\"1.0.0\",\n        \"viewStyle\":\"hierarchy\",\n        \"viewElement\":{\n          \"object\":\"policyHeader\",\n          \"elementRef\":\"PH001\",\n          \"childObjects\":[\n            {\n              \"viewElement\":{\n                \"object\":\"customer\",\n                \"elementRef\":\"CU001\",\n                \"multiplicity\":\"single\",\n                \"relationFromParent\":\"belongsTo\",\n                \"relationToParent\":\"hasPolicy\"\n              }\n            },\n            {\n              \"viewElement\":{\n                \"object\":\"broker\",\n                \"elementRef\":\"BR001\",\n                \"multiplicity\":\"single\",\n                \"relationFromParent\":\"managedBy\",\n                \"relationToParent\":\"managesPolicy\"\n              }\n            },\n            {\n              \"viewElement\":{\n                \"object\":\"coverage\",\n                \"elementRef\":\"CV001\",\n                \"multiplicity\":\"oneOrMore\",\n                \"relationFromParent\":\"hasCover\",\n                \"relationToParent\":\"coveredBy\",\n                \"relationToOther\":{\n                  \"elementRef\":\"C001\",\n                  \"type\":\"hasCover\"\n                },\n                \"childObjects\":[\n                  {\n                    \"viewElement\":{\n                      \"object\":\"insuredObject\",\n                      \"elementRef\":\"IO001\",\n                      \"multiplicity\":\"oneOrMore\",\n                      \"relationFromParent\":\"covers\",\n                      \"relationToParent\":\"coveredBy\"\n                    }\n                  },\n                  {\n                    \"viewElement\":{\n                      \"object\":\"insuredObject\",\n                      \"elementRef\":\"IO002\",\n                      \"multiplicity\":\"oneOrMore\",\n                      \"relationFromParent\":\"covers\",\n                      \"relationToParent\":\"coveredBy\"\n                    }\n                  }\n                ]\n              }\n            }\n          ]\n        }\n      }\n    }`,\n    \"resourceName\":  'classpath://dw/data/view-metadata-policyHeader.json',\n    \"dwl\":  `%dw 2.0\n  output application/json\n  \n  var policyHeaderView = readUrl(\"classpath://dw/data/view-metadata-policyHeader.json\")\n  \n  fun findObjectContent(objectType, commandId) = {\n       (objectType): payload.command.response filter ($.object.schema == objectType and $.object.commandId == commandId) map (object , index) ->\n          object.object.content\n  }\n  \n  fun findRelation(relation, relationFrom, relationType) = \n    (relation filter (($.from == relationFrom) and ($.rType == relationType))).to\n  \n  fun renderChildObjects(childObjectsArray) = {\n    children: childObjectsArray map ((child, childIndex) -> {\n      (child.viewElement.object) : findObjectContent(child.viewElement.object, child.viewElement.elementRef),\n      (if (child.viewElement.childObjects != null) \n         renderChildObjects(child.viewElement.childObjects) else {}\n      )\n    }\n    )\n  }\n  \n  var firstViewElement = policyHeaderView.view.viewElement\n  ---\n  \n  \n  {\n    (findObjectContent(firstViewElement.object, firstViewElement.elementRef)),\n    (if (firstViewElement.childObjects != null) renderChildObjects(firstViewElement.childObjects) else {})\n      //relation: findRelation(payload.command.response.relation, \"PH001\", policyHeaderView.view.viewElement.childObjects.viewElement[0].relationFromParent),\n  }`};\n\n}\n\n}\n","import React from 'react';\n//import clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport Button from '@material-ui/core/Button';\nimport List from '@material-ui/core/List';\n\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport DeveloperMode from '@material-ui/icons/DeveloperMode';\nimport EmojiObjects from '@material-ui/icons/EmojiObjects';\n\nimport {Examples} from '../examples/examples'\n\nconst useStyles = makeStyles({\n  list: {\n    width: 250,\n  },\n  fullList: {\n    width: 'auto',\n  },\n});\n\nconst examples = new Examples()\n\nexport default function SideBar(props) {\n  const classes = useStyles();\n  const [state, setState] = React.useState({\n    top: false,\n    left: false,\n    bottom: false,\n    right: false,\n  });\n\n  const toggleDrawer = (anchor, open) => (event) => {\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n      return;\n    }\n\n    setState({ ...state, [anchor]: open });\n  };\n\n  function onClick(name) {\n      const example = examples.getExample(name)\n      if (example && props.onSelect)\n        props.onSelect({...example})\n  }\n\n  const list = (anchor) => (\n    <div\n      className={classes.list}\n      role=\"presentation\"\n      onClick={toggleDrawer(anchor, false)}\n      onKeyDown={toggleDrawer(anchor, false)}\n    >\n      <List>\n        {examples.getExamplesList().map((name, index) => (\n          <ListItem button key={name} onClick={()=>onClick(name)}>\n            <ListItemIcon>{index % 2 === 0 ? <DeveloperMode /> : <EmojiObjects />}</ListItemIcon>\n            <ListItemText primary={name} />\n          </ListItem>\n        ))}\n      </List>\n     \n    </div>\n  );\n\n  return (\n    <div>\n      \n          <Button onClick={toggleDrawer(\"left\", true)}>{props.caption}</Button>\n          <Drawer anchor={\"left\"} open={state[\"left\"]} onClose={toggleDrawer(\"left\", false)}>\n            {list(\"left\")}\n          </Drawer>\n        \n      \n    </div>\n  );\n}\n","import React, {useState} from 'react'\nimport Divider from '@material-ui/core/Divider';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever'\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\n\nimport './resourceList.css'\nimport { Typography } from '@material-ui/core';\n\nfunction  ResourceList(props) {\n    \n    const [listState, setListState] = useState({ list: props.list, newInput: '', currentIdx: -1 })\n\n    const handleListItemChange = (event, index) => {\n        const oldName = listState.list[index]\n        const newName = event.target.value\n        const newList = [...listState.list]\n        newList[index] = newName\n        setListState( {...listState, list: newList})\n        if (props.onSelectedResource)\n            props.onSelectedResource('update', oldName, newName)\n    }\n\n    const deleteItem = (index) => {\n        const delName = listState.list[index]\n        const newList = [...listState.list];\n        newList.splice(index, 1);\n        const currentIdx = index < (newList.length - 1) ? listState.currentIdx : newList.length-1\n        setListState( {...listState, list: newList, currentIdx: currentIdx})\n        if (props.onSelectedResource)\n            props.onSelectedResource('delete', delName, newList[currentIdx])\n    };\n\n    const handleDeleteButtonClick = (index) => {\n        return (event) => {\n            // In order for the form not to be submitted\n            event.preventDefault();\n            deleteItem(index);\n        }\n    };\n\n    function onSelected(idx) {\n        setListState( {...listState, currentIdx: idx})\n        if (props.onSelectedResource)\n            props.onSelectedResource('select', listState.list[idx],listState.list[idx])\n    }\n\n    const getList = () => {\n        return listState.list.map((elem, index) => {\n            return (\n                <li key={index}>\n                    <div style={{display:'flex', flexDirection:'row'}}>\n                    <input\n                        style={{flex:'auto', marginRight:'5px',background:(index===listState.currentIdx) ? '#c0e0c0' : '#c0c0c0'}}\n                        onFocus={()=>onSelected(index)}\n                        className='input-field'\n                        type='text'\n                        value={elem}\n                        placeholder={props.placeholder ? props.placeholder : 'new resource name'}\n                        onChange={e => {\n                            handleListItemChange(e, index);\n                        }}\n                    />\n                     <DeleteForeverIcon style={{flex:'none', color:'#8080b0'}}\n                        onClick={handleDeleteButtonClick(index)}>\n                    </DeleteForeverIcon>\n                    </div>\n                </li>\n            );\n        });\n    };\n\n    const onChange = (event) => {\n        setListState({...listState, newInput : event.target.value})\n    };\n\n    const onKeyUp = (event) => {\n        if (event.key !== 'Enter' || event.target.value.trim(' ').length === 0) \n            return\n        addItem(event.target.value)\n    }\n\n    const onClickPlus = (event) => {\n        if (listState.newInput.trim(' ').length === 0) \n            return\n        addItem(listState.newInput)\n    }\n            \n    const addItem = (name) => {\n        const newList = [...listState.list].concat(name)\n        setListState( {list: newList, newInput: '', currentIdx: newList.length-1})\n\n        if (props.onSelectedResource)\n            props.onSelectedResource('add', name, name)\n    }\n\n    \n    return (\n        <div className='react-list-editable'>\n            <ul className='no-bullet-list'>{getList()} </ul>\n            <Divider></Divider>\n            <Typography style={{fontSize:'0.7em', marginTop:'7px'}}>Create new resources here:</Typography>\n            <div style={{marginTop:'3px', display:'flex', flexDirection:'row'}}>\n           \n            <input\n                style={{flex:'auto', marginRight:'5px'}}\n                name='newInput'\n                className='input-field'\n                onChange={onChange}\n                onKeyUp={onKeyUp}\n                placeholder='new resource'\n                value={listState.newInput}/>\n             <AddCircleOutlineIcon style={{flex:'none', color:'#a0a0d0'}}\n                onClick={onClickPlus}></AddCircleOutlineIcon>\n            </div>\n        </div>\n    )\n}\nexport default ResourceList\n\n\n\n","import React, { useRef } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport AceEd from './aceed'\nimport ResourceList from './resourceList'\nimport ReactResizeDetector from 'react-resize-detector';\n\nfunction ResourceManager(props) {\n\n    const [resourceState, setResourceState] = React.useState({\n        \"current\": Object.keys(props.resources)[0],\n        'files': props.resources\n    })\n\n    const currentResource = resourceState.files[resourceState.current]\n\n    function onResourceContentChange(newCode) {\n        const newState = {\n            \"current\": resourceState.current,\n            'files':  {\n                ...resourceState.files, [resourceState.current]:\n                  { 'url': currentResource.url, 'content': newCode }\n            }\n        }\n        setResourceState(newState)\n        if (props.onResourceChange)\n            props.onResourceChange(newState.files)\n    }\n\n    function onResourceUrlChange(event) {\n        const newState = {\n            \"current\": resourceState.current,\n            'files': {\n                ...resourceState.files, [resourceState.current]:\n                    { 'url': event.target.value, 'content': currentResource.content }\n            }\n        }\n        setResourceState(newState)\n        if (props.onResourceChange)\n            props.onResourceChange(newState.files)\n    }\n\n    const aceResourceRef = useRef()\n\n    const resizeAce = (ref) => {\n        if (!ref.current) return\n\n        ref.current.editor.resize()\n    }\n\n    function onSelectedResource(reason, oldName, newName) {\n        const newStateFiles = {...resourceState.files}\n        switch (reason) {\n            case 'delete':\n                delete newStateFiles[oldName]\n                break\n            case 'update':\n                newStateFiles[newName] = newStateFiles[oldName]\n                delete newStateFiles[oldName]\n                break\n            case 'add':\n                newStateFiles[newName] =\n                    {'url': 'http://my.url.com/content', 'content': '{\"new\": \"some content\"}'}\n                break;\n            default: break \n        }\n        resourceState.files = {...newStateFiles}\n        resourceState.current= newName\n\n        setResourceState({...resourceState})\n\n        if (reason!=='select' && props.onResourceChange)\n            props.onResourceChange(resourceState.files)\n    }\n\n\n    return (\n\n        <div className=\"resource-Panel-Row tab-Content\">\n            <div style={{\n                width: \"240px\", borderRightWidth: \"1px\",\n                borderRightColor: 'grey', borderRightStyle: \"solid\"\n            }}>\n                <ResourceList list={Object.keys(resourceState.files)} onSelectedResource={onSelectedResource}></ResourceList>\n            </div>\n            <div className=\"resource-Panel tab-Content\">\n                <ReactResizeDetector handleWidth handleHeight onResize={() => { resizeAce(aceResourceRef) }} />\n                <TextField className=\"tab-Fixed-Content\" label=\"Resource Path/Url\" onChange={onResourceUrlChange} value={currentResource.url}></TextField>\n                <AceEd ref={aceResourceRef} name=\"resource\" onChange={onResourceContentChange} value={currentResource.content} />\n            </div>\n        </div>\n\n    );\n}\n\nexport default ResourceManager;\n","import React, { useRef } from 'react';\nimport ResizePanel from \"react-resize-panel\"\nimport classNames from 'classnames/bind';\nimport SimpleTabs from './components/simpletabs';\n\nimport AceEd from './components/aceed'\nimport SideBar from './components/sibebar'\nimport ResourceManager from './components/resourceManager'\nimport dweeve from 'dweeve'\nimport dweevefns from 'dweeve/lib/functions/core'\n\nimport { ReactTerminal } from \"react-terminal\"\nimport { TerminalContextProvider } from \"react-terminal\"\n\nimport ReactResizeDetector from 'react-resize-detector';\n\nimport xml2js from 'dweeve/lib/exe/xmldom2jsobj'\nimport {DOMParser} from 'xmldom'\n\nimport style from './App.css';\n\nlet cx = classNames.bind(style);\n\nfunction App() {\n  var timingInfo = 'No time recorded'\n\n  const [dweeveEnv, setDweeveEnv] = React.useState(\n    {\n      \"code\": '',\n      \"payload\": '',\n      \"results\": '?',\n      \"time\": timingInfo,\n      \"resources\": {\n            'Resource file 1':\n                { 'url': 'http://resources.com/file1', 'content': '{\"sample\": \"text\" }' }\n        }\n    })\n\n  function onCodeChange(newCode) {\n    const newEnv = { ...dweeveEnv, \"code\": newCode }\n    execute(newEnv)\n  }\n\n  function onPayloadChange(newPayload) {\n    const newEnv = { ...dweeveEnv, \"payload\": newPayload }\n    execute(newEnv)\n  }\n\n  function onSelectExample(example) {\n    const newEnv = { ...dweeveEnv, \"code\": example.dwl, \"payload\": example.payload,\n      \"resources\" : { 'example resource' : { 'url': example.resourceName, 'content': example.resourceText}} }\n    execute(newEnv)\n  }\n\n  function findResource(env, path) {\n    const resourceFiles = Object.values(env.resources)\n    const resource = resourceFiles.find(r => r.url && r.url === path)\n\n    return (resource && resource.content) ? resource.content : \"resource not found: \"+ path\n  }\n\n  function execute(env) {\n\n    dweevefns.setResourceLoader((path, type) => findResource(env, path))\n\n    if (env.payload.startsWith('<')) {\n      const doc = new DOMParser().parseFromString(env.payload)\n      const pl = xml2js.toJsObj(doc)\n\n      console.log(pl)\n    }\n\n    const response = dweeve.runWithTimes(env.code, env.payload, {}, {})\n    const times = response.times\n    const result = response.result\n\n    timingInfo = `Dweeve parsed in: ${times.parser}ms, transpiled in ${times.transpiler}ms and executed in: ${times.execution}ms`\n    if (dweeveEnv.results !== result)\n      setDweeveEnv({ ...env, \"results\": result, \"time\": timingInfo })\n  }\n\n  function replExecute(expr) {\n\n    dweevefns.setResourceLoader((path, type) => findResource(dweeveEnv, path))\n\n    let dwScript = expr\n    const dwSplit = dweeveEnv.code.split('\\n---');\n    if (dwSplit.length === 2) {\n      dwScript = dwSplit[0] + '\\n---' + dwScript;\n    }\n    const response = dweeve.runWithTimes(dwScript, dweeveEnv.payload, {}, {})\n    const times = response.times\n    const result = response.result\n    timingInfo = `Dweeve parsed in: ${times.parser}ms, transpiled in ${times.transpiler}ms and executed in: ${times.execution}ms`\n    return timingInfo + '\\n' + result;\n\n  }\n\n  const aceCodeRef = useRef()\n  const acePayloadRef = useRef()\n  const aceResultRef = useRef()\n\n  const resizeAce = (ref) => {\n    if (!ref.current) return\n\n    ref.current.editor.resize()\n  }\n  \n  function onResourceChange(files) {\n    const newEnv = { ...dweeveEnv, resources: files }\n    execute(newEnv)\n  }\n\n  return (\n    <TerminalContextProvider>\n      <div className=\"App\">\n        <div className={cx('container')}>\n          <div className={cx('header')} height=\"100px\" style={{ display: \"flex\", textAlign: \"center\" }}>\n            <SideBar caption={\"Examples <--\"} onSelect={onSelectExample} ></SideBar>\n            <h3 style={{ flex: \"auto\" }} >dweeve-react-doofer</h3>\n          </div>\n\n          <div className={cx('body')}>\n            <ResizePanel width=\"60%\" direction=\"e\" style={{ flexGrow: '1' }} >\n              <div className={cx('content', 'panel')}>\n                <ReactResizeDetector handleWidth handleHeight onResize={() => resizeAce(aceCodeRef)} />\n                <AceEd ref={aceCodeRef} name=\"code\" value={dweeveEnv.code} onChange={onCodeChange} />\n              </div>\n            </ResizePanel>\n            <div width=\"400px\" className={cx('sidebar', 'panel')}>\n              <ReactResizeDetector handleWidth handleHeight onResize={() => { resizeAce(acePayloadRef) }} />\n              <SimpleTabs captions={[\"Payload\", \"Resource Files\"]}>\n                <AceEd ref={acePayloadRef} name=\"payload\" value={dweeveEnv.payload} onChange={onPayloadChange} />\n                <ResourceManager resources={dweeveEnv.resources} onResourceChange={onResourceChange}></ResourceManager>\n              </SimpleTabs>\n            </div>\n\n          </div>\n\n          <ResizePanel direction=\"n\" style={{ flexGrow: '1', flex: 'auto' }}>\n            <div className={cx('footer', 'panel')}>\n              <div className={cx('footerArea')}>\n                <div className={cx('footerAreaContent')}>\n                  <SimpleTabs captions={[\"Results\", \"REPL\"]} style={{ height: \"100%\" }}>\n                    <div className=\"resource-Panel tab-Content\">\n                      <span>{dweeveEnv.time}</span>\n                      <ReactResizeDetector handleWidth handleHeight onResize={() => resizeAce(aceResultRef)} />\n                      <AceEd ref={aceResultRef} name=\"results\" value={dweeveEnv.results} />\n                    </div>\n                    <div className=\"resource-Panel tab-Content\">\n                      <ReactTerminal className=\"tab-Content\"\n                        theme='dark'\n                        showControlButtons='False'\n                        prompt='->'\n                        welcomeMessage=\"d-weeve REPL tool\"\n                        errorMessage=\"Unknown command, use '?' to evaluate expressions.\"\n                        commands={{ '__eval':  (expr) => replExecute(expr) }}\n                      />\n                    </div>\n                  </SimpleTabs>\n                </div>\n              </div>\n              <div className={cx('footerBottomBar')}>\n                check out <a href=\"https://github.com/ICornwell/dweeve\">https://github.com/ICornwell/dweeve</a> for more info.\n            </div>\n            </div>\n          </ResizePanel>\n        </div>\n      </div>\n    </TerminalContextProvider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}